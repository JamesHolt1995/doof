---
// export interface Props {
// 	page: string;
// }

// const { page } = Astro.props;
---

<nav class="menu">
	<div class="menu__trigger">Menu</div>
	<ul class="menu__top">
		<li>
			<a href="/" target="_self">Home</a>
		</li>
		<li>
			<a href="/releases/" target="_self">Releases</a>
		</li>
		<li>
			<a href="/signup/" target="">Newsletter</a>
		</li>
		<li>
			<a href="mailto:doofdemos@gmail.com" target="_blank">Submit Demo</a>
		</li>
	</ul>

	<ul class="menu__bottom">
		<li>
			<a href="https://www.instagram.com/doof_music/" target="_blank">
				Instagram
			</a>
		</li>
		<li>
			<a href="https://doofdoof.bandcamp.com" target="_blank">Bandcamp</a>
		</li>
		<li>
			<a href="https://soundcloud.com/doof_music" target="_blank">
				Soundcloud
			</a>
		</li>
		<!-- <li>
			<a href="https://www.tiktok.com/@doofdoof_" target="_blank">TikTok</a>
		</li> -->
		<li>
			<a href="https://www.youtube.com/@doofdoof_" target="_blank">Youtube</a>
		</li>
	</ul>
</nav>

<style lang="scss">
	.menu {
		text-transform: uppercase;
		width: 100%;
		height: 100%;
		position: fixed;
		overflow-y: scroll;
		z-index: 999;
		bottom: 0;
		left: 0;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		padding: 10px;
		box-sizing: border-box;
		pointer-events: none;
		ul {
			list-style: none;
			padding: 0;
			margin: 0;
		}
		a {
			color: var(--grey);
			text-decoration: none;
			&:visited {
				color: var(--grey);
			}
			&:hover {
				color: var(--blue);
			}
		}
		&__trigger {
			display: none;
			pointer-events: all;
		}
		&__top {
			top: 10px;
			left: 10px;
			right: 10px;
			pointer-events: all;
		}
		&__bottom {
			bottom: 10px;
			left: 10px;
			right: 10px;
			pointer-events: all;
		}
		&__top,
		&__bottom {
			position: fixed;
			z-index: 999;
			font-size: 21px;
			display: flex;
			width: calc(100% - 20px);
			justify-content: space-between;
		}
	}

	@media screen and (max-width: 900px) {
		.menu {
			display: flex;
			text-align: left;
			flex-direction: column;
			gap: 20px;
			justify-content: flex-start;
			padding-top: 60px;
			a {
				color: var(--grey);
				&:visited {
					color: var(--grey);
				}
			}
			li {
				display: none;
			}
			&__top,
			&__bottom {
				position: relative;
				top: auto;
				bottom: auto;
				left: auto;
				right: auto;
			}
			&__trigger {
				display: block;
				width: 100%;
				background-color: transparent;
				box-sizing: border-box;
				position: absolute;
				bottom: 0;
				left: 0;
				color: var(--grey);
				text-align: left;
				padding: 10px;
				font-size: 24px;
			}
			&__top,
			&__bottom {
				justify-content: center;
				flex-direction: column;
				gap: 20px;
			}
			&--open {
				z-index: 1000;
				background-color: var(--blue);
				li {
					display: block;
					font-size: 28px;
				}
				.menu__trigger {
					top: 0;
					right: 0;
					bottom: auto;
					left: auto;
					font-family: var(--dot-font);
					font-size: 52px;
					text-align: right;
					padding: 0;
					position: absolute;
				}
			}
		}
	}
</style>

<script>
	const trigger = document.querySelector(".menu__trigger");
	const menu = document.querySelector(".menu");
	let menuOpen = false;
	const html = trigger.innerHTML;

	trigger.addEventListener("click", () => {
		menu.classList.toggle("menu--open");
		if (menuOpen === false) {
			trigger.innerHTML = "x";
		} else {
			trigger.innerHTML = html;
		}
		menuOpen = !menuOpen;
	});
</script>
